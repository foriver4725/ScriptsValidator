# ScriptsValidator

## 概要

異なる開発環境で作業していると、  
ファイルのフォーマット（特に文字コードや改行コード）が  
知らぬ間にバラバラになってしまうことがあります。

このリポジトリでは、  
そうした形式のズレを自動で統一するための  
**Unity向けサンプルツール**を提供しています。

プロジェクトやチームの運用に合わせて、  
自由に改造・拡張して活用してください。

なお、`.editorconfig` などの設定管理ツールを併用して  
根本的なフォーマット統一を行うことも推奨します。

---

## インストール方法

このプロジェクトでは、文字コード検出ライブラリとして  
**[ReadJEnc](https://github.com/hnx8/ReadJEnc)**（Pure C#）を使用しています。

Unityは標準でNuGetに対応していないため、  
まずは **[NuGetForUnity](https://github.com/GlitchEnzo/NuGetForUnity)** を導入してください。

1. プロジェクトに **NuGetForUnity** をインストール
2. Unityメニューの **NuGet > Manage NuGet Packages** を開く
3. **ReadJEnc** を検索し、インストール

ReadJEncは `Hnx8.ReadJEnc.dll` としてコンパイルされます。  
プロジェクトでアセンブリ定義（`.asmdef`）を使用している場合は、  
このDLLへの参照を明示的に追加してください。

その後、**[最新のリリース](https://github.com/foriver4725/ScriptsValidator/releases)** ページから  
Unityパッケージをダウンロードし、プロジェクトにインポートします。

コンパイルが完了すると、Unityエディタのメニュー  
**Tools > Scripts Validator (Open Window)** から  
ツールを起動できるようになります。

---

> **補足:**  
> ReadJEncは、日本語を含むファイルの文字コード判別に非常に優れています。  
> ただし、英語など他の言語中心の環境では不要な場合や、  
> 代わりに別のライブラリを使用した方が適している場合もあります。
>
> また、ReadJEncは外部開発者によってメンテナンスされているライブラリです。  
> 利用前にライセンスと利用規約を必ず確認してください。

---

## 使い方と機能

変換を行う前に、まず以下の2つを指定します：

- **検索ルート**（再帰的にファイルを探すフォルダ）
- **対象拡張子**（検索対象に含めるファイル種別）

現在サポートしている拡張子は次の通りです：  
`.cs`, `.shader`, `.hlsl`, `.txt`, `.md`

次に、**変換後のエンコーディング** と **改行コード形式** を選び、  
**Run Conversion** ボタンを押すと変換が実行されます。

この操作は**元に戻せない**ため、  
実行前に確認ダイアログが表示されます。

本ツールはあくまで**サンプル実装**です。  
プロジェクトの規模や開発体制に合わせて、  
自由に仕様をカスタマイズしてください。

特に大規模プロジェクトでは、  
`Assets/` 以外のフォルダも検索対象に含める設定を  
追加するのが望ましいでしょう。

検出されたファイルは順に処理され、  
変換が必要なものは変換され、  
エラーが発生した場合は即座にスキップされます。  
処理内容は1ファイルごとにログとして出力されるため、  
どのファイルがどのように変換されたかを詳細に確認できます。

---

## ライセンス

このリポジトリは **MIT License** のもとで公開されています。  
詳細は [LICENSE](./LICENSE) を参照してください。

---

## 謝辞

- [ReadJEnc](https://github.com/hnx8/ReadJEnc)
- [NuGetForUnity](https://github.com/GlitchEnzo/NuGetForUnity)
